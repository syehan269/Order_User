package com.example.order;import androidx.annotation.NonNull;import androidx.appcompat.app.AppCompatActivity;import androidx.appcompat.widget.Toolbar;import android.content.DialogInterface;import android.content.Intent;import android.os.Bundle;import android.view.KeyEvent;import android.view.LayoutInflater;import android.view.Menu;import android.view.MenuInflater;import android.view.MenuItem;import android.view.View;import android.widget.Button;import android.widget.Toast;import com.google.android.material.dialog.MaterialAlertDialogBuilder;import com.google.firebase.auth.FirebaseAuth;import com.google.firebase.auth.FirebaseUser;public class adminHome extends AppCompatActivity {    private Toolbar toolbar;    private Button category_btn, user_btn, request_btn;    private FirebaseAuth.AuthStateListener authStateListener;    @Override    protected void onCreate(Bundle savedInstanceState) {        super.onCreate(savedInstanceState);        setContentView(R.layout.activity_admin_home);        toolbar = findViewById(R.id.toolbar);        category_btn = findViewById(R.id.category_adm);        user_btn = findViewById(R.id.user_adm);        request_btn = findViewById(R.id.request_adm);        setSupportActionBar(toolbar);        getSupportActionBar().setTitle("Administrator");        authStateListener = new FirebaseAuth.AuthStateListener() {            @Override            public void onAuthStateChanged(@NonNull FirebaseAuth firebaseAuth) {                FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();                if (user == null){                }            }        };        user_btn.setOnClickListener(new View.OnClickListener() {            @Override            public void onClick(View view) {                Intent intent = new Intent(adminHome.this, adminControl.class);                startActivity(intent);            }        });        category_btn.setOnClickListener(new View.OnClickListener() {            @Override            public void onClick(View view) {                Intent intent = new Intent(adminHome.this, admin_category.class);                startActivity(intent);            }        });        request_btn.setOnClickListener(new View.OnClickListener() {            @Override            public void onClick(View view) {                Intent intent = new Intent(adminHome.this, adminRequest.class);                startActivity(intent);            }        });    }    @Override    protected void onStart() {        super.onStart();        FirebaseAuth.getInstance().addAuthStateListener(authStateListener);    }    @Override    protected void onStop() {        super.onStop();        FirebaseAuth.getInstance().addAuthStateListener(authStateListener);    }    @Override    public boolean onCreateOptionsMenu(Menu menu) {        MenuInflater inflater = getMenuInflater();        inflater.inflate(R.menu.menu_bar, menu);        return super.onCreateOptionsMenu(menu);    }    @Override    public boolean onOptionsItemSelected(MenuItem item) {        // Take appropriate action for each action item click        switch (item.getItemId()) {            case R.id.about:                // about                MaterialAlertDialogBuilder alertDialogBuilder = new MaterialAlertDialogBuilder(this, R.style.ThemeOverlay_MaterialComponents_Dialog_Alert);                LayoutInflater inflater =LayoutInflater.from(this);                View view = inflater.inflate(R.layout.dialog_about, null);                alertDialogBuilder.setView(view);                alertDialogBuilder.setNegativeButton("Close", new DialogInterface.OnClickListener() {                    @Override                    public void onClick(DialogInterface dialog, int which) {                    }                });                alertDialogBuilder.show();                return true;            case R.id.logout:                // logout                FirebaseAuth.getInstance().signOut();                Intent logout_int = new Intent(adminHome.this, login.class);                startActivity(logout_int);                finish();                return true;            default:                return super.onOptionsItemSelected(item);        }    }    @Override    public boolean onKeyDown(int keyCode, KeyEvent event) {        if (keyCode == KeyEvent.KEYCODE_BACK){            MaterialAlertDialogBuilder alertDialogBuilder = new MaterialAlertDialogBuilder(adminHome.this);            alertDialogBuilder.setTitle("Log out")                    .setMessage("Are you sure ?")                    .setPositiveButton("Log out", new DialogInterface.OnClickListener() {                        @Override                        public void onClick(DialogInterface dialog, int which) {                            FirebaseAuth.getInstance().signOut();                            Intent intent = new Intent(adminHome.this, login.class);                            startActivity(intent);                        }                    })                    .setNegativeButton("Cancel", new DialogInterface.OnClickListener() {                        @Override                        public void onClick(DialogInterface dialog, int which) {                        }                    });            alertDialogBuilder.show();        }        return super.onKeyDown(keyCode, event);    }}